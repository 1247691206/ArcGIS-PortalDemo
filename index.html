<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<meta content="" name="description">
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
<meta name="renderer" content="webkit">
<title>应用模板</title>
<link rel="stylesheet" type="text/css" href="css/base.css">
<link rel="stylesheet" type="text/css" href="lib/jqueryui/jquery-ui.min.css">
<link rel="stylesheet" href="lib/bootstrap/css/bootstrap.min.css">
<link rel="stylesheet" href="http://jsapi.thinkgis.cn/dijit/themes/claro/claro.css">
<link rel="stylesheet" href="http://jsapi.thinkgis.cn/esri/css/esri.css">
</head>
<body class="claro">
<div style="position:relative;z-index:900">
  <div class="top" ><img class="full-width" src="img/top.png" /></div>
  <div class="header">
    <div class="title-sys">Web应用</div>
  </div>
  <!-- toolbar -->
  <nav id="esricdBar" class="navbar navbar-default" role="navigation" style="margin-bottom:0px;">
    <div class="container-fluid">
      <div class="navbar-header">
        <span class="navbar-brand" href="#" style="color:#990000">这里是系统标题和logo</span>
      </div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
          <!-- 
          <li class="active"><a href="#">Link</a></li>
          -->
        </ul>

        <div class="navbar-right">
          <!--geocoder-->
          <div class="esricd-geocoder"> <div id="GeocoderDiv"></div> </div>
          <!--坐标定位-->
          <div class="esricd-toxy">
            <div class="input-group">
              <input node-type="toXyInput" type="text" class="form-control" value="102.7053,25.0305" placeholder="格式为：经度,纬度">
              <span class="input-group-btn">
                <button node-type="toXyBtn" class="btn btn-default" type="button">定位</button>
              </span>
            </div>
          </div>

        </div>

        <ul class="nav navbar-nav navbar-right">
          <li>
            <button id="toolbarBaseMapBtn" data-rel-panel="toolbarBaseMapPanel" type="button" class="btn btn-default navbar-btn"><img src="img/icons/basemap.png" >&nbsp;&nbsp;底图
           </button>
            <!--toolbar面板_底图选择-->
            <div id="toolbarBaseMapPanel" data-rel-btn="toolbarBaseMapBtn" class="panel panel-default esricd-bar-panel" style="width: 395px;">
              <div class="panel-heading">
                <h3 class="panel-title">选择底图
                  <button node-type="hideBarPanel" type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                </h3>
              </div>
              <div class="panel-body"><div id="basemapGalleryDiv"></div></div>
            </div>
            <!--toolbar面板 end-->
   
           </li>
          <li>
            <button id="toolbarMeasureBtn" data-rel-panel="toolbarMeasurePanel" type="button" class="btn btn-default navbar-btn"><img src="img/icons/measure.png" >&nbsp;&nbsp;测量</button>
            <!--toolbar面板_测量工具-->
            <div id="toolbarMeasurePanel" data-rel-btn="toolbarMeasureBtn" class="panel panel-default esricd-bar-panel" style="width: 250px;">
              <div class="panel-heading">
                <h3 class="panel-title">测量工具
                  <button node-type="hideBarPanel" type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                </h3>
              </div>
              <div class="panel-body"><div id="measurementDiv"></div></div>
            </div>
            <!--toolbar面板 end-->
          </li>
          <li>
            <button id="toolbarBookmarkBtn" data-rel-panel="toolbarBookmarkPanel" type="button" class="btn btn-default navbar-btn"><img src="img/icons/bookmark.png" >&nbsp;&nbsp;书签</button>
            <!--toolbar面板_书签-->
            <div id="toolbarBookmarkPanel" data-rel-btn="toolbarBookmarkBtn" class="panel panel-default esricd-bar-panel" style="width: 260px;">
              <div class="panel-heading">
                <h3 class="panel-title">书签
                  <button node-type="hideBarPanel" type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                </h3>
              </div>
              <div class="panel-body"><div id="bookmarkDiv"></div></div>
            </div>
            <!--toolbar面板 end-->
           </li>
          <li>
            <a target="_blank" href="print.html" class="btn btn-default navbar-btn" style="padding: 6px 12px;"><img src="img/icons/printer.png" >&nbsp;&nbsp;打印</a>
          </li>        
          <li>
            <button id="toolbarQueryBtn" data-rel-panel="toolbarQueryPanel"  type="button" class="btn btn-default navbar-btn"><img src="img/icons/query.png" >&nbsp;&nbsp;空间查询</button>
            <!--toolbar面板_空间查询-->
            <div id="toolbarQueryPanel" data-rel-btn="toolbarQueryBtn" class="panel panel-default esricd-bar-panel" style="width: 260px;">
              <div class="panel-heading">
                <h3 class="panel-title">空间查询
                  <button node-type="hideBarPanel" type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                </h3>
              </div>
              <div class="panel-body"><div id="queryDiv">



              </div></div>
            </div>
            <!--toolbar面板 end-->

          </li>        
          <li>
            <button id="toolbarFindBtn" data-rel-panel="toolbarFindPanel" type="button" class="btn btn-default navbar-btn"><img src="img/icons/find.png" >&nbsp;&nbsp;属性查询</button>
            <!--toolbar面板_属性查询-->
            <div id="toolbarFindPanel" data-rel-btn="toolbarFindBtn" class="panel panel-default esricd-bar-panel" style="width: 300px;">
              <div class="panel-heading">
                <h3 class="panel-title">属性查询
                  <button node-type="hideBarPanel" type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                </h3>
              </div>
              <div class="panel-body"><div id="findDiv">
                


                  


              </div></div>
            </div>
            <!--toolbar面板 end-->
          </li>
          <li>
            <button id="toolbarIdentifyBtn" class="btn btn-default navbar-btn" data-toggle="button" aria-pressed="false" autocomplete="off"> <img src="img/icons/info.png" /> </button>
          </li>

        </ul>

      </div>
    </div>
  </nav>
  <!-- toolbar end -->
</div>
<div id="mapDiv" style="position:relative">
  <div id="HomeButton"></div>
  <div id="LocateButton"></div>
  <div id="swipeDiv"></div>
</div>


<!-- 以下为绝对定位的dom -->


<!--地图信息面板-->
<div id="mapInfoPanel" class="panel panel-default panel-primary esricd-panel" style="left:-300px">
  <div class="panel-heading">
    <h3 class="panel-title">地图信息
      <button node-type="hidePanel" type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
    </h3>
  </div>
  <div class="panel-body">
    <ul class="nav nav-tabs" id="myTab">
      <li class="active"><a href="#tabLayers" data-toggle="tab"><img src="img/icons/layer.png" />&nbsp;图层</a></li>
      <li ><a href="#tabLegend" data-toggle="tab"><img src="img/icons/legend.png" />&nbsp;图例</a></li>
      <li ><a href="#tabMapinfo" data-toggle="tab"><img src="img/icons/info.png" />&nbsp;关于</a></li>
    </ul>
    <div class="tab-content">
      <div class="tab-pane active" id="tabLayers">
        <div class="esricd-panel-tab-title">
          地图图层
        </div>
        <div class="esricd-panel-tab-content">
          <div id="layersInfoDiv" style="padding-top:10px">
            <!--
            <div > 
              <label style="font-weight:normal"><input data-layerid="LD_weather_niulj_831" type="checkbox" > LD_weather_niulj_831</label>
            </div>
            <div > 
              <label style="font-weight:normal"><input data-layerid="YNBasicMap_9182" type="checkbox" > 图层一</label>
            </div>
            <div > 
               <img src="img/icons/global.png" > 地图底图
            </div>
            -->

          </div>
        </div>
      </div>
      <div class="tab-pane" id="tabLegend">
        <div class="esricd-panel-tab-title">
          地图图例
        </div>
        <div class="esricd-panel-tab-content f12" style="overflow:auto">
          <div id="legendDiv"></div>
        </div>
      </div>
      <div class="tab-pane" id="tabMapinfo">
        <div class="esricd-panel-tab-title" id="baseInfoTitle">
          地图信息
        </div>
        <div class="esricd-panel-tab-content f12">
          <div id="baseInfoDiv">
            <!--
            <br/>
            <div >Web Map 制作者：leikh</div>
            <div >最后修改：2009-09-09</div>
            <div >描述：送水水水水送水水水水送水水水水送水水水水送水水水水送水水水水送水水水水</div>
            -->

          </div>
        </div>
      </div>
    </div>

  </div>
</div>

<!--底部的数据表-->
<div class="esricd-bot-box" id="dataTableDiv" style="bottom:-200px">
  <div class="panel panel-info" >
    <div class="panel-heading" style="padding:2px 15px">
      数据表格 
        

        <button node-type="hideBotPanel" type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>

    </div>
    <div class="panel-body f12" style="height:170px;padding:0px">
      <div id="gridMessage" class="text-center padding10" style="display:none"></div>
      <div id="gridDiv"></div>
    </div>
  </div>
</div>

<!--面板手柄-->
<div node-type="showPanel" data-for="mapInfoPanel" class="esricd-panel-handler">
  <div class="esricd-panel-handler-title">
    <img src="img/icons/map.png" /> 地图信息
  </div>
</div>
<div style="top:90px" node-type="showPanel" data-for="bufferPanel" class="esricd-panel-handler esricd-handler-right">
  <div class="esricd-panel-handler-title">
    <img src="img/icons/buffer.png" /> 缓冲分析
  </div>
</div>
<div style="top:185px" node-type="showPanel" data-for="heatmapPanel" class="esricd-panel-handler esricd-handler-right">
  <div class="esricd-panel-handler-title">
    <img src="img/icons/heatmap.png" /> 热度分析
  </div>
</div>
<div style="top:280px" node-type="showPanel" data-for="networkPanel" class="esricd-panel-handler esricd-handler-right">
  <div class="esricd-panel-handler-title">
    <img src="img/icons/network.png" /> 路网分析
  </div>
</div>
<div style="top:375px" node-type="showPanel" data-for="overlayPanel" class="esricd-panel-handler esricd-handler-right">
  <div class="esricd-panel-handler-title">
    <img src="img/icons/overlay.png" /> 叠置分析
  </div>
</div>
<!--面板手柄 end-->
<!--缓冲区分析面板-->
<div style="right:-300px" id="bufferPanel" class="panel panel-default panel-primary esricd-panel esricd-panel-right">
  <div class="panel-heading">
    <h3 class="panel-title">缓冲分析
      <button node-type="hidePanel" type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
    </h3>
  </div>
  <div class="panel-body">
    <div id="bufferDiv">
        <div class="alert alert-info" role="alert">loading...</div>
    </div>
    
  </div>
</div>


<!--热度分析面板-->
<div style="right:-300px" id="heatmapPanel" class="panel panel-default panel-primary esricd-panel esricd-panel-right">
  <div class="panel-heading">
    <h3 class="panel-title">热度分析
      <button node-type="hidePanel" type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
    </h3>
  </div>
  <div class="panel-body">
    <div id="heatmapDiv">
        <div class="alert alert-info" role="alert">loading...</div>
    </div>

  </div>
</div>


<!--路网分析面板-->
<div style="right:-300px" id="networkPanel" class="panel panel-default panel-primary esricd-panel esricd-panel-right">
  <div class="panel-heading">
    <h3 class="panel-title">路网分析
      <button node-type="hidePanel" type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
    </h3>
  </div>
  <div class="panel-body">
    <div id="networkDiv">
        <div class="alert alert-info" role="alert">loading...</div>
    </div>

  </div>
</div>


<!--叠置分析面板-->
<div style="right:-300px" id="overlayPanel" class="panel panel-default panel-primary esricd-panel esricd-panel-right">
  <div class="panel-heading">
    <h3 class="panel-title">叠置分析
      <button node-type="hidePanel" node-closeType="overlayPanel" type="button" class="close" data-dismiss="alert"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
    </h3>
  </div>
  <div class="panel-body">
    <div id="overlayDiv">
        <div class="alert alert-info" role="alert">loading...</div>
    </div>

  </div>
</div>





</body>
<script type="text/javascript">
    var package_path = location.pathname.replace(/\/[^/]+$/, '');
    //console.log(package_path);
    //package_path="http://localhost:8080"
    // /www/app
    var dojoConfig = {
        async: true, //异步加载模块
        // The locationPath logic below may look confusing but all its doing is
        // enabling us to load the api from a CDN and load local modules from the correct location.
        packages: [{
            name: "application",
            location: package_path + '/js'
        },{
            name: "component",
            location: package_path + '/js/component'
        }, {
            name: "config",
            location: package_path + '/config'
        }, {
            name: "esricdTmpl",
            location: package_path + '/tmpl'
        }, {
            name: "arcgis_templates",
            location: package_path + '/..'
        }]
    };
</script>
<script src="lib/jquery/jquery-1.11.1.min.js"></script>
<script src="lib/jqueryui/jquery-ui.min.js"></script>
<script src="lib/bootstrap/js/bootstrap.min.js"></script>
<script src="lib/baiduTemplate/baiduTemplate.js"></script>
<script src="http://jsapi.thinkgis.cn/init.js"></script>

<script type="text/javascript">
var myApp;
    require([
        "application/templateOptions",
        "application/template",
        "application/main"
    ], function(
        templateConfig,
        Template,
        Main
    ){
        // create the template. This will take care of all the logic required for template applications
        var myTemplate = new Template(templateConfig);
        // create my main application. Start placing your logic in the main.js file.
        //var myApp = new Main();
        myApp = new Main();
        // start template
        myTemplate.startup().then(function(config) {
            // The config object contains the following properties: helper services, (optionally)
            // i18n, appid, webmap and any custom values defined by the application.
            // In this example we have one called theme.
            myApp.startup(config);
        }, function(error) {
            // something went wrong. Let's report it.
            myApp.reportError(error);
        });
    });
</script>

</html>
